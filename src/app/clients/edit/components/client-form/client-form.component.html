<ion-grid [formGroup]="form" class="with-background">
  <ion-card-header [translucent]="true">

    <ion-item lines="none" *ngIf="!isUpdate" style="--min-height: 150px">
      <div fxShow="true" fxHide.lt-sm="true">
        <ion-img  [src]="getIcon()" slot="start" style="width: 96px; height: auto;"></ion-img>
      </div>
      <ion-content fxLayout="column" fxLayoutAlign="space-between, start">
        <ion-card-subtitle>{{ 'addInformationAboutClient' | translate }}</ion-card-subtitle>
        <ion-card-title margin-top>
          <ion-text style="--font-size: 12px">
            <b>{{ form.value.lname }}</b>
            {{ form.value.fname }}
          </ion-text>
        </ion-card-title>
      </ion-content>
    </ion-item>
    <ion-item lines="none" *ngIf="isUpdate">
      <ion-icon name="contact" slot="start" size="large" color="primary"></ion-icon>
      <ion-content>
        <ion-card-title>{{ 'client' | translate }}</ion-card-title>
        <ion-card-subtitle>{{ 'updateClientData' | translate }}</ion-card-subtitle>
      </ion-content>
    </ion-item>
  </ion-card-header>
  <ion-card-content>
    <ion-row justify-content-end>
      <ion-radio-group fxLayout="row" fxLayoutAlign="end center" formControlName="sex">
        <ion-item lines="none">
          <ion-radio value="female" style="margin-right: 10px"></ion-radio>
          <ion-label>{{ 'female' | translate }}</ion-label>
        </ion-item>

        <ion-item lines="none">
          <ion-radio value="male"></ion-radio>
          <ion-label>{{ 'male' | translate }}</ion-label>
        </ion-item>
      </ion-radio-group>
    </ion-row>
    <ion-row>
      <ion-col size="12" size-md>
        <ion-item>
          <ion-label position="floating">{{ 'lname' | translate }}</ion-label>
          <ion-input type="text" formControlName="lname"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="12" size-md>
        <ion-item>
          <ion-label position="floating">{{ 'fname' | translate }}</ion-label>
          <ion-input type="text" formControlName="fname" autofocus></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row formArrayName="phones" *ngFor="let phone of phones; let currentPhoneIndex = index">
      <ion-col [formGroupName]="currentPhoneIndex" size="12" sizeMd>
        <ion-item>
          <ion-label position="floating">{{ 'number' | translate }}</ion-label>
          <ion-input type="phone" formControlName="number"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col [formGroupName]="currentPhoneIndex" size="12" sizeMd>
        <ion-item style="margin-top: 4px">
          <ion-label position="floating">{{ '' }}</ion-label>
          <ion-select formControlName="name" interface="popover" style="width: 100%">
            <ion-select-option *ngFor="let phoneType of phoneTypes" [value]="phoneType">
              {{ phoneType | translate }}
            </ion-select-option>
          </ion-select>
          <ion-buttons slot="end" style="margin-bottom: 6px; margin-left: 10px" slot="end" align-self-end>
            <ion-button
              [hidden]="currentPhoneIndex === 0"
              fill="clear"
              size="small"
              (click)="removePhone.emit(currentPhoneIndex)"
            >
              <ion-icon slot="icon-only" name="remove"></ion-icon>
            </ion-button>
            <ion-button size="large" fill="clear" (click)="addPhone.emit()">
              <ion-icon slot="icon-only" name="add"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="12" size-md>
        <ion-item>
          <ion-label position="floating">{{ 'email' | translate }}</ion-label>
          <ion-input type="email" formControlName="email"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label position="stacked">{{ 'notes' | translate }}</ion-label>
          <ion-textarea
            rows="3"
            formControlName="clientNotes"
            placeholder="{{ 'notesTooltip' | translate }}"
          ></ion-textarea>
        </ion-item>
      </ion-col>
    </ion-row>
  </ion-card-content>
</ion-grid>
